import { PortfolioData, DiagnosisResult, DiagnosisType } from '@/types/portfolio';

const diagnosisData: Record<DiagnosisType, Omit<DiagnosisResult, 'stats'>> = {
  gambler: {
    type: 'gambler',
    emoji: 'üé≤',
    title: '‰∏ÄÁÇπÁ™ÅÁ†¥„ÅÆ„ÇÆ„É£„É≥„Éñ„É©„ÉºÂûã',
    condition: 'ÊöóÂè∑Ë≥áÁî£ Ôºã ÂÄãÂà•Ê†™ Ôºû 60%',
    diagnosis: 'Êîª„ÇÅ„ÅÆÂßøÂã¢„ÅØÁ¥†Êô¥„Çâ„Åó„ÅÑ„Åß„Åô„Åå„ÄÅ2026Âπ¥„ÅÆËçíÊ≥¢„ÅßËª¢Ë¶Ü„Åô„ÇãÊÅê„Çå„ÅÇ„Çä„ÄÇ„Ç¥„Éº„É´„Éâ„Éû„É≥„Éª„Çµ„ÉÉ„ÇØ„Çπ„ÇÑ„Éâ„Ç§„ÉÑÈäÄË°å„ÅÆ„É¨„Éù„Éº„Éà„Å´„Çà„Çã„Å®„ÄÅ2026Âπ¥„ÅØAI„Éê„Éñ„É´Â¥©Â£ä„Å®‰ªÆÊÉ≥ÈÄöË≤®„ÅÆÂº±Ê∞ó„Éï„Çß„Éº„Ç∫„ÅåÈáç„Å™„Çã„Äå„ÉÄ„Éñ„É´„ÇØ„É©„ÉÉ„Ç∑„É•„Äç„ÅÆ„É™„Çπ„ÇØ„ÅåÊåáÊëò„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇÊó•ÈäÄ„ÅØ2025Âπ¥12Êúà„Å´ÊîøÁ≠ñÈáëÂà©„Çí0.75%„Å´Âºï„Åç‰∏ä„Åí„ÄÅ‰ªäÂæå„ÇÇÁ∑©„ÇÑ„Åã„Å™Âà©‰∏ä„ÅíË∑ØÁ∑ö„ÇíÁ∂≠ÊåÅ„Åô„ÇãÊßã„Åà„ÄÇÂÜÜÈ´òÈÄ≤Ë°å„Åß„É™„Çπ„ÇØË≥áÁî£„Å´„ÅØÈÄÜÈ¢®„Åß„Åô„ÄÇ',
    newsForecast: '„Äê2026Âπ¥‰∫àÊ∏¨„ÄëÊó•ÈäÄ„ÅØ0.5%‚Üí0.75%„Å∏Âà©‰∏ä„Åí„ÇíÊ±∫ÂÆöÔºàÊó•ÁµåÊñ∞ËÅû 2025/12/19Ôºâ„ÄÇ‰ªäÂæå„ÇÇÂà©‰∏ä„ÅíÁ∂ôÁ∂ö„ÅÆË¶ãÈÄö„Åó„Åß„ÄÅ„Ç≠„É£„É™„Éº„Éà„É¨„Éº„Éâ„ÅÆÂ∑ª„ÅçÊàª„Åó„Åå„É™„Çπ„ÇØË≥áÁî£„ÇíÁõ¥ÊíÉ„ÄÇ„Éì„ÉÉ„Éà„Ç≥„Ç§„É≥„ÅØ4Âπ¥„Çµ„Ç§„ÇØ„É´„ÅßÂº±Ê∞ó„Éï„Çß„Éº„Ç∫ÂÖ•„Çä„ÄÅ„Éû„Ç∞„Éã„Éï„Ç£„Çª„É≥„Éà7„ÅåS&P500„ÅÆ30%Ë∂Ö„ÇíÂç†„ÇÅ„Çã„ÄåAI‰∏ÄÊ•µÈõÜ‰∏≠„Äç„ÅÆÂèçÂãï„ÇÇ„ÄÇOECD„ÅØ„Äå‰∏ñÁïåÁµåÊ∏à„ÅØ„É¨„Ç∏„É™„Ç®„É≥„Éà„Å†„ÅåËÑÜÂº±„Äç„Å®Ë≠¶Âëä„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ',
    cleanupAdvice: [
      { action: 'üóëÔ∏è Êç®„Å¶„Çã', description: 'Ëçâ„Ç≥„Ç§„É≥„ÇÑÂ∞èÂûã„ÉÜ„ÉÉ„ÇØÊ†™„ÅÆ‰∏ÄÈÉ®„Çí‰ªä„Åô„ÅêÂà©Á¢∫„ÄÇÊó•ÈäÄ„ÅÆÂà©‰∏ä„ÅíÁ∂ôÁ∂ö„ÅßÂÜÜÈ´ò„ÅåÈÄ≤„ÇÅ„Å∞„ÄÅÊµ∑Â§ñË≥áÁî£„ÅÆÂÜÜÂª∫„Å¶Ë©ï‰æ°È°ç„ÅØÁõÆÊ∏õ„Çä„Åó„Åæ„Åô„ÄÇ„Éò„ÉÉ„Ç∏„Éï„Ç°„É≥„Éâ„ÅØ„Åô„Åß„Å´BTC‰øùÊúâ„Çí32%ÂâäÊ∏õ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ' },
      { action: '‚ú® Êãæ„ÅÜ', description: '„ÄåÈáëÔºà„Ç¥„Éº„É´„ÉâÔºâ„Äç„Åæ„Åü„ÅØ„ÄåÂõΩÂÜÖÂÇµÂà∏„Äç„ÅßÂÆà„Çä„ÅÆÁõæ„ÇíË£ÖÂÇô„ÄÇÊó•ÈäÄÂà©‰∏ä„Åí„ÅßÂõΩÂÜÖÂÇµÂà∏„ÅÆÈ≠ÖÂäõ„Åå‰∏äÊòá‰∏≠„ÄÇÊö¥ËêΩÊôÇ„Å´Ë≤∑„ÅÑÂêë„Åã„Åà„ÇãÁèæÈáë„ÇÇÁ¢∫‰øù„Åó„Å¶„Åä„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ' }
    ]
  },
  safekeeper: {
    type: 'safekeeper',
    emoji: 'üîê',
    title: 'Áü≥Ê©ã„ÇíÂè©„Åç„Åô„Åé„ÇãÈáëÂ∫´Áï™Âûã',
    condition: 'ÁèæÈáë Ôºã Èáë Ôºû 70%',
    diagnosis: 'ÂÆâÂÖ®ÊÄß„ÅØÊúÄÂº∑„ÇØ„É©„Çπ„ÄÇ2026Âπ¥„ÅÆËçíÊ≥¢„Çí‰πó„ÇäË∂ä„Åà„Çã„Å´„ÅØÊúÄÈÅ©„Å™„Éù„Ç∏„Ç∑„Éß„É≥„Åß„ÅôÔºÅÊó•ÈäÄ„ÅåÊîøÁ≠ñÈáëÂà©„Çí0.75%„Å´Âºï„Åç‰∏ä„Åí„Åü„Åì„Å®„Åß„ÄÅÈ†êÈáëÈáëÂà©„ÇÇ‰∏äÊòáÂÇæÂêë„ÄÇ„Åü„Å†„ÅóOECD„ÅÆ‰∫àÊ∏¨„Åß„ÅØ‰∏ñÁïåÁµåÊ∏à„ÅØ„Äå„É¨„Ç∏„É™„Ç®„É≥„Éà„Å†„ÅåËÑÜÂº±„Äç„ÄÇ„Ç§„É≥„Éï„É¨Áéá„ÅåÈ†êÈáëÈáëÂà©„Çí‰∏äÂõû„ÇãÂèØËÉΩÊÄß„ÇÇ„ÅÇ„Çä„ÄÅÂÆüË≥™‰æ°ÂÄ§„ÅÆÁõÆÊ∏õ„Çä„Å´„ÅØÊ≥®ÊÑè„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ',
    newsForecast: '„Äê2026Âπ¥‰∫àÊ∏¨„Äë„ÅÇ„Å™„Åü„ÅÆÊÖéÈáçÂßøÂã¢„ÅØÂ§ßÊ≠£Ëß£„Åã„ÇÇ„ÄÇÊó•ÈäÄ„ÅØÂà©‰∏ä„ÅíË∑ØÁ∑ö„ÇíÁ∂ôÁ∂ö„Åô„ÇãÊßã„Åà„Åß„ÄÅÈ†êÈáëÈáëÂà©„Å´„ÇÇËøΩ„ÅÑÈ¢®„ÄÇ2026Âπ¥„Å´AI„Éê„Éñ„É´Â¥©Â£ä„ÅåËµ∑„Åç„ÅüÂ†¥Âêà„ÄÅÁèæÈáë„ÇíÊåÅ„Å£„Å¶„ÅÑ„Çã‰∫∫„Å†„Åë„Åå„ÄåÊö¥ËêΩÊôÇ„Å´Ë≤∑„ÅÑÂêë„Åã„Åà„ÇãÂºæ„Äç„ÇíÊåÅ„Å¶„Åæ„Åô„ÄÇ‰∏âËè±UFJ„É™„Çµ„Éº„ÉÅ„Å´„Çà„Çã„Å®„ÄÅÊó•Êú¨ÁµåÊ∏à„ÅØÁ∑©„ÇÑ„Åã„Å™ÂõûÂæ©Âü∫Ë™ø„Å™„Åå„Çâ„ÄÅÊµ∑Â§ñ„É™„Çπ„ÇØ„Å´„ÅØË¶ÅË≠¶Êàí„ÄÇ',
    cleanupAdvice: [
      { action: 'üíé ÂÆà„Çã', description: '2026Âπ¥„ÅÆÊö¥ËêΩ„É™„Çπ„ÇØ„ÇíËÄÉ„Åà„Çã„Å®„ÄÅÁèæÈáëÊØîÁéá„ÅåÈ´ò„ÅÑ„ÅÆ„ÅØÂÆü„ÅØÂº∑„Åø„ÄÇÊó•ÈäÄ„ÅÆÂà©‰∏ä„Åí„ÅßÈ†êÈáëÈáëÂà©„ÇÇÊîπÂñÑÂÇæÂêë„Åß„Åô„ÄÇ„Åü„Å†„ÅóÁîüÊ¥ªÈò≤Ë°õË≥áÈáëÔºà6„É∂Êúà„Äú1Âπ¥ÂàÜÔºâ„ÇíË∂Ö„Åà„ÇãÂàÜ„ÅØÈÅãÁî®Ê§úË®é„Çí„ÄÇ' },
      { action: '‚ú® Êãæ„ÅÜ', description: 'Êö¥ËêΩÂæå„Å´„ÄåÂÖ®‰∏ñÁïåÊ†™ÂºèÔºà„Ç™„É´„Ç´„É≥Ôºâ„Äç„ÇÑ„ÄåS&P500„Äç„Çí‰ªïËæº„ÇÄ„ÉÅ„É£„É≥„Çπ„ÇíÂæÖ„Å§Êà¶Áï•„ÇÇ„ÄÇÊó•ÈäÄÂà©‰∏ä„Åí„ÅßÂÜÜÈ´ò„ÅåÈÄ≤„ÇÅ„Å∞„ÄÅÊµ∑Â§ñË≥áÁî£„ÇíÂâ≤ÂÆâ„Å´Ë≤∑„Åà„Çã„ÉÅ„É£„É≥„ÇπÂà∞Êù•„Åã„ÇÇ„Åó„Çå„Åæ„Åõ„Çì„ÄÇ' }
    ]
  },
  trendy: {
    type: 'trendy',
    emoji: 'ü¶ó',
    title: 'ÊµÅË°å„ÇäÁâ©Â•Ω„Åç„ÅÆ„Ç§„Éä„Ç¥Âûã',
    condition: 'ÊöóÂè∑Ë≥áÁî£ Ôºû 30% „Åã„Å§ Êäï‰ø°/ETF Ôºú 20%',
    diagnosis: 'Ë©±È°å„ÅÆË≥áÁî£„Å´È£õ„Å≥„Å§„Åç„Åå„Å°„ÄÇË∂≥ÂÖÉ„ÅÆÂú∞Áõ§Ôºà„Ç≥„Ç¢Ë≥áÁî£Ôºâ„Åå„Çπ„Ç´„Çπ„Ç´„Åß„Åô„ÄÇ2025Âπ¥11Êúà„ÄÅ‰ªÆÊÉ≥ÈÄöË≤®Â∏ÇÂ†¥„Åß„ÅØ1ÂÖÜ„Éâ„É´ÔºàÁ¥Ñ150ÂÖÜÂÜÜÔºâ„ÅåÊ∂àÂ§±„ÄÇÊó•ÈäÄ„ÅÆÂà©‰∏ä„ÅíÔºà0.75%Ôºâ„Åß„Ç≠„É£„É™„Éº„Éà„É¨„Éº„Éâ„ÅåÂ∑ª„ÅçÊàª„Åó„ÄÅ„É™„Çπ„ÇØË≥áÁî£„ÅåÂ£≤„Çâ„Çå„ÇãÂ±ïÈñã„ÅåÁ∂ö„ÅÑ„Å¶„ÅÑ„Åæ„Åô„ÄÇ„É≠„Ç§„Çø„Éº„Å´„Çà„Çã„Å®„ÄÅÂ∏ÇÂ†¥„ÅØ‰ªäÂæå„ÅÆËøΩÂä†Âà©‰∏ä„Åí„ÇÇÁπî„ÇäËæº„ÅøÂßã„ÇÅ„Å¶„ÅÑ„Åæ„Åô„ÄÇ',
    newsForecast: '„Äê2026Âπ¥‰∫àÊ∏¨„Äë‰ªÆÊÉ≥ÈÄöË≤®„ÅÆ4Âπ¥„Çµ„Ç§„ÇØ„É´ÁêÜË´ñ„Åß„ÅØ2025Âπ¥Êú´„Åå„Éî„Éº„ÇØ„ÄÅ2026Âπ¥„ÅØÂº±Ê∞ó„Éï„Çß„Éº„Ç∫„ÄÇÊó•ÈäÄ„ÅØ„Äå‰ªäÂæå„ÇÇÁ∑©„ÇÑ„Åã„Å™Âà©‰∏ä„ÅíË∑ØÁ∑ö„ÇíÁ∂≠ÊåÅ„Åô„ÇãÊßã„Åà„ÄçÔºàÊó•ÁµåÊñ∞ËÅûÔºâ„Åß„ÄÅÂÜÜÈ´òÈÄ≤Ë°å„Åå„É™„Çπ„ÇØË≥áÁî£„ÅÆÈáç„Åó„Å´„ÄÇ‰∏≠ÂõΩ‰∫∫Ê∞ëÈäÄË°å„ÅÆ‰ªÆÊÉ≥ÈÄöË≤®Ë¶èÂà∂Âº∑Âåñ„ÄÅAI„Éê„Éñ„É´Â¥©Â£ä„Å®„ÅÆ„ÄåÈÄ£Èéñ„Ç∑„Éä„É™„Ç™„Äç„ÇÇË≠¶Êàí„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ',
    cleanupAdvice: [
      { action: 'üìä Êï¥„Åà„Çã', description: 'ÊöóÂè∑Ë≥áÁî£„ÅÆÂà©Áõä„ÅåÂá∫„Å¶„ÅÑ„Çã„Å™„Çâ„Äå‰ªä„Åô„Åê„Äç‰∏ÄÈÉ®Âà©Á¢∫„ÄÇÊó•ÈäÄÂà©‰∏ä„Åí„ÅßÂÜÜÈ´ò„ÅåÈÄ≤„ÇÅ„Å∞„ÄÅ„Éâ„É´Âª∫„Å¶Ë≥áÁî£„ÅØÂÜÜÊèõÁÆó„ÅßÁõÆÊ∏õ„Çä„Åó„Åæ„Åô„ÄÇÂæåÊÇî„Åó„Å™„ÅÑ„Åü„ÇÅ„Å´„ÄÅÂà©ÁõäÁ¢∫ÂÆö„ÅÆ„Çø„Ç§„Éü„É≥„Ç∞„ÇíÈÄÉ„Åï„Å™„ÅÑ„Åß„ÄÇ' },
      { action: '‚ú® Êãæ„ÅÜ', description: '„ÄåÈ´òÈÖçÂΩìETF„Äç„ÇÑ„ÄåÂõΩÂÜÖÊ†™Âºè„Ç§„É≥„Éá„ÉÉ„ÇØ„Çπ„Äç„Åß„Ç≥„Ç¢Ë≥áÁî£„ÇíÊßãÁØâ„ÄÇÊó•ÈäÄÂà©‰∏ä„Åí„ÅØÂõΩÂÜÖÁµåÊ∏à„ÅÆÊ≠£Â∏∏Âåñ„ÅÆË®º„ÄÇÊó•Êú¨Ê†™„Å´„ÇÇÊ≥®ÁõÆ„ÅÆ‰ΩôÂú∞„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ' }
    ]
  },
  balanced: {
    type: 'balanced',
    emoji: 'üåü',
    title: '„Éê„É©„É≥„ÇπÈáçË¶ñ„ÅÆÂÑ™Á≠âÁîüÂûã',
    condition: 'Êäï‰ø°/ETF„Åå40„Äú60%„ÄÅ„Åã„Å§ÁèæÈáë„Å®„Åù„ÅÆ‰ªñË≥áÁî£„ÅåÈÅ©Â∫¶„Å´ÂàÜÊï£',
    diagnosis: 'ÈùûÂ∏∏„Å´Áæé„Åó„ÅÑ„Éù„Éº„Éà„Éï„Ç©„É™„Ç™„Åß„Åô„ÄÇOECD„ÅØ„Äå‰∏ñÁïåÁµåÊ∏à„ÅØ„É¨„Ç∏„É™„Ç®„É≥„ÉàÔºàÂõûÂæ©Âäõ„Åå„ÅÇ„ÇãÔºâ„Å†„ÅåËÑÜÂº±„Äç„Å®Ë©ï‰æ°„ÄÇ„ÅÇ„Å™„Åü„ÅÆÂàÜÊï£„Åï„Çå„Åü„Éù„Éº„Éà„Éï„Ç©„É™„Ç™„ÅØ„ÄÅ„Åæ„Åï„Å´„Åì„ÅÆ‰∏çÁ¢∫ÂÆü„Å™ÊôÇ‰ª£„Å´ÈÅ©„Åó„ÅüÊßãÊàê„Åß„Åô„ÄÇÊó•ÈäÄ„ÅÆÂà©‰∏ä„Åí„ÄÅAI„Éê„Éñ„É´Êá∏Âøµ„ÄÅÂú∞ÊîøÂ≠¶„É™„Çπ„ÇØ„Å™„Å©Ë§áÂêàÁöÑ„Å™„É™„Çπ„ÇØ„Å´„ÇÇÂØæÂøú„Åß„Åç„ÇãÊüîËªüÊÄß„ÇíÊåÅ„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ',
    newsForecast: '„Äê2026Âπ¥‰∫àÊ∏¨„ÄëÊó•ÈäÄ„ÅØÊîøÁ≠ñÈáëÂà©„Çí0.75%„Å´Âºï„Åç‰∏ä„Åí„ÄÅ‰ªäÂæå„ÇÇÂà©‰∏ä„ÅíÁ∂ôÁ∂ö„ÅÆË¶ãÈÄö„ÅóÔºàÊó•ÁµåÊñ∞ËÅû 2025/12/19Ôºâ„ÄÇ„Åì„Çå„ÅØÊó•Êú¨ÁµåÊ∏à„ÅÆÊ≠£Â∏∏Âåñ„ÇíÊÑèÂë≥„Åó„ÄÅÂàÜÊï£ÊäïË≥áÂÆ∂„Å´„ÅØ„Éó„É©„ÇπÊùêÊñô„ÇÇ„ÄÇ„Éû„Ç∞„Éã„Éï„Ç£„Çª„É≥„Éà7„Å∏„ÅÆÈÅéÂ∫¶„Å™‰æùÂ≠ò„Åå„Å™„ÅÑ„Åü„ÇÅ„ÄÅAI„Éª„ÉÜ„ÉÉ„ÇØÊ†™„ÅÆË™øÊï¥Â±ÄÈù¢„Åß„ÇÇÂΩ±Èüø„ÅØÈôêÂÆöÁöÑ„Åß„Åô„ÄÇ',
    cleanupAdvice: [
      { action: '‚ú® Á£®„Åè', description: 'ÁèæÁä∂Á∂≠ÊåÅ„ÅßOKÔºÅÊó•ÈäÄ„ÅÆÈáëËûçÊîøÁ≠ñÊ≠£Â∏∏Âåñ„ÇíÂèó„Åë„Å¶„ÄÅÂõΩÂÜÖÂÇµÂà∏„ÇÑÊó•Êú¨Ê†™„ÅÆÊØîÁéá„ÇíÂ∞ë„ÅóÈ´ò„ÇÅ„Çã„ÅÆ„ÇÇ‰∏ÄÊ°à„ÄÇÂπ¥„Å´1Âõû„ÅÆ„É™„Éê„É©„É≥„Çπ„ÅßÊØîÁéá„ÇíË™øÊï¥„Åô„Çã„Å†„Åë„ÅßÂçÅÂàÜ„Åß„Åô„ÄÇ' },
      { action: 'üí∞ ÂÇô„Åà„Çã', description: 'Êö¥ËêΩÊôÇ„Å´Ë≤∑„ÅÑÂêë„Åã„Åà„ÇãÁèæÈáë„ÇíÂ∞ë„ÅóÂéö„ÇÅ„Å´„ÄÇOECD„ÅÆ„ÄåËÑÜÂº±„Äç„Å®„ÅÑ„ÅÜË≠¶Âëä„ÇíÂøµÈ†≠„Å´„ÄÅÊÄ•„Å™‰∏ãËêΩ„Å´„ÇÇÂØæÂøú„Åß„Åç„Çã‰ΩôÂäõ„ÇíÁ¢∫‰øù„Åó„Å¶„Åä„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ' }
    ]
  },
  landlord: {
    type: 'landlord',
    emoji: 'üè†',
    title: '‰∏çÂãïÁî£ÂÅèÈáç„ÅÆÂ§ßÂÆ∂„Åï„ÇìÂûã',
    condition: '‰∏çÂãïÁî£ Ôºû 50%',
    diagnosis: 'Ë≥áÁî£„ÅÆÂÆü‰ΩìÊÄß„ÅØÈ´ò„ÅÑ„Åß„Åô„Åå„ÄÅÊó•ÈäÄ„ÅÆÂà©‰∏ä„Åí„ÅåÁõ¥ÊíÉ„Åô„Çã„Éù„Ç∏„Ç∑„Éß„É≥„Åß„Åô„ÄÇ2025Âπ¥12Êúà„ÄÅÊó•ÈäÄ„ÅØÊîøÁ≠ñÈáëÂà©„Çí0.5%‚Üí0.75%„Å´Âºï„Åç‰∏ä„Åí„ÄÅ„Äå‰ªäÂæå„ÇÇÁ∑©„ÇÑ„Åã„Å™Âà©‰∏ä„ÅíË∑ØÁ∑ö„ÇíÁ∂≠ÊåÅ„Åô„ÇãÊßã„Åà„ÄçÔºàÊó•ÁµåÊñ∞ËÅûÔºâ„ÄÇÂ§âÂãïÈáëÂà©„É≠„Éº„É≥„ÇíÁµÑ„Çì„Åß„ÅÑ„ÇãÂ†¥Âêà„ÄÅËøîÊ∏àË≤†ÊãÖÂ¢ó„ÅØÈÅø„Åë„Çâ„Çå„Åæ„Åõ„Çì„ÄÇ„É≠„Ç§„Çø„Éº„ÇÇ‰ΩèÂÆÖ„É≠„Éº„É≥ÈáëÂà©‰∏äÊòá„ÅÆÂΩ±Èüø„ÇíÂ†±„Åò„Å¶„ÅÑ„Åæ„Åô„ÄÇ',
    newsForecast: '„Äê2026Âπ¥‰∫àÊ∏¨„ÄëÊó•ÈäÄ„ÅÆÂà©‰∏ä„ÅíÁ∂ôÁ∂ö„Åß„ÄÅÂ§âÂãïÈáëÂà©„ÅØ‰ªäÂæå„ÇÇ‰∏äÊòá„Åô„ÇãË¶ãÈÄö„Åó„ÄÇ‰∏âËè±UFJ„É™„Çµ„Éº„ÉÅ„Å´„Çà„Çã„Å®„ÄÅÈáëÂà©‰∏äÊòáÂ±ÄÈù¢„Åß„ÅÆ‰∏çÂãïÁî£Â∏ÇÊ≥Å„Å´„ÅØÊÖéÈáç„Å™Ë¶ãÊñπ„ÇÇ„ÄÇ„Åü„Å†„ÅóÂÆüÁâ©Ë≥áÁî£„Å®„Åó„Å¶„ÅÆ‰æ°ÂÄ§„ÄÅ„Ç§„É≥„Éï„É¨„Éò„ÉÉ„Ç∏Ê©üËÉΩ„ÅØÂÅ•Âú®„ÄÇOECD„ÅØ‰∏ñÁïåÁµåÊ∏à„ÅÆ„ÄåËÑÜÂº±ÊÄß„Äç„ÇíÊåáÊëò„Åó„Å¶„Åä„Çä„ÄÅÊµÅÂãïÊÄßÁ¢∫‰øù„ÅåÊÄ•Âãô„Åß„Åô„ÄÇ',
    cleanupAdvice: [
      { action: 'üßπ Êã≠„Åè', description: '„ÄêÊúÄÈáçË¶Å„ÄëÂ§âÂãïÈáëÂà©„É≠„Éº„É≥„ÅÆË¶ãÁõ¥„Åó„ÇíÔºÅÊó•ÈäÄ„ÅØÂà©‰∏ä„ÅíÁ∂ôÁ∂ö„ÅÆÊßã„Åà„Åß„ÄÅ‰ªäÂæå„ÇÇÈáëÂà©‰∏äÊòá„Åå‰∫àÊÉ≥„Åï„Çå„Åæ„Åô„ÄÇÂõ∫ÂÆöÈáëÂà©„Å∏„ÅÆÂàá„ÇäÊõø„Åà„ÄÅÁπ∞„Çä‰∏ä„ÅíËøîÊ∏à„ÅÆÊ§úË®é„Çí„ÄÇËøîÊ∏àË®àÁîª„ÇíÈáëÂà©1.5%„Ç∑„Éä„É™„Ç™„Åß„Çπ„Éà„É¨„Çπ„ÉÜ„Çπ„Éà„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ' },
      { action: '‚ú® Êãæ„ÅÜ', description: 'ÊµÅÂãïÊÄß„ÅÆÈ´ò„ÅÑË≥áÁî£ÔºàÁèæÈáë„ÉªETFÔºâ„ÇíÊó©ÊÄ•„Å´Á¢∫‰øù„ÄÇÊó•ÈäÄÂà©‰∏ä„Åí„ÅßÂÜÜÈ´ò„ÅåÈÄ≤„ÇÅ„Å∞„ÄÅÊµ∑Â§ñË≥áÁî£„ÇíÂâ≤ÂÆâ„Å´‰ªïËæº„ÇÅ„Çã„ÉÅ„É£„É≥„Çπ„ÇÇ„ÄÇ‰∏çÂãïÁî£„ÅØÂ£≤Âç¥„Å´ÊôÇÈñì„Åå„Åã„Åã„Çã„Åü„ÇÅ„ÄÅÊ©üÂãïÁöÑ„Å´Âãï„Åë„ÇãË≥áÈáë„ÅåÂøÖÈ†à„Åß„Åô„ÄÇ' }
    ]
  }
};

function calculateStats(portfolio: PortfolioData): DiagnosisResult['stats'] {
  const { stocks, realEstate, gold, mutualFunds, crypto, cash, other } = portfolio;
  
  // ÊîªÊíÉÂäõ: Ê†™„ÉªÊöóÂè∑Ë≥áÁî£„Éª„Åù„ÅÆ‰ªñ„ÅåÈ´ò„ÅÑ„Åª„Å©‰∏äÊòá
  const attack = Math.min(100, (stocks * 0.8 + crypto * 1.2 + other * 0.5 + mutualFunds * 0.4));
  
  // Èò≤Âæ°Âäõ: Èáë„ÉªÁèæÈáë„Éª‰∏çÂãïÁî£„ÅåÈ´ò„ÅÑ„Åª„Å©‰∏äÊòáÔºà2026Âπ¥„ÅÆËçíÊ≥¢ÂØæÁ≠ñÔºâ
  const defense = Math.min(100, (gold * 1.3 + cash * 1.1 + realEstate * 0.5 + mutualFunds * 0.3));
  
  // ÊµÅÂãïÊÄß: ÁèæÈáë„ÉªÊ†™„ÉªETF„ÅåÈ´ò„ÅÑ„Åª„Å©‰∏äÊòá„ÄÅ‰∏çÂãïÁî£„ÅåÈ´ò„ÅÑ„Å®‰∏ã„Åå„Çã
  const liquidity = Math.min(100, Math.max(0, (cash * 1.2 + stocks * 0.8 + mutualFunds * 0.9 + crypto * 0.5) - (realEstate * 0.4)));
  
  // „Ç§„É≥„Éï„É¨ËÄêÊÄß: Ê†™„ÉªÈáë„Éª‰∏çÂãïÁî£„ÅåÈ´ò„ÅÑ„Åª„Å©‰∏äÊòá„ÄÅÁèæÈáë„ÉªÊöóÂè∑Ë≥áÁî£„ÅØ2026Âπ¥„É™„Çπ„ÇØ„ÇíÂèçÊò†
  const inflationResist = Math.min(100, Math.max(0, (stocks * 0.6 + gold * 1.2 + realEstate * 0.9 + mutualFunds * 0.5) - (cash * 0.3) - (crypto * 0.2)));
  
  return {
    attack: Math.round(attack),
    defense: Math.round(defense),
    liquidity: Math.round(liquidity),
    inflationResist: Math.round(inflationResist)
  };
}

function determineDiagnosisType(portfolio: PortfolioData): DiagnosisType {
  const { stocks, realEstate, gold, mutualFunds, crypto, cash } = portfolio;
  
  // „Çø„Ç§„Éó1: „ÇÆ„É£„É≥„Éñ„É©„ÉºÂûã - ÊöóÂè∑Ë≥áÁî£ + ÂÄãÂà•Ê†™ > 60%
  if (crypto + stocks > 60) {
    return 'gambler';
  }
  
  // „Çø„Ç§„Éó2: ÈáëÂ∫´Áï™Âûã - ÁèæÈáë + Èáë > 70%
  if (cash + gold > 70) {
    return 'safekeeper';
  }
  
  // „Çø„Ç§„Éó3: „Ç§„Éä„Ç¥Âûã - ÊöóÂè∑Ë≥áÁî£ > 30% „Åã„Å§ Êäï‰ø°/ETF < 20%
  if (crypto > 30 && mutualFunds < 20) {
    return 'trendy';
  }
  
  // „Çø„Ç§„Éó5: Â§ßÂÆ∂„Åï„ÇìÂûã - ‰∏çÂãïÁî£ > 50%
  if (realEstate > 50) {
    return 'landlord';
  }
  
  // „Çø„Ç§„Éó4: ÂÑ™Á≠âÁîüÂûã - Êäï‰ø°/ETF„Åå40„Äú60%„ÄÅ„Åã„Å§ÈÅ©Â∫¶„Å´ÂàÜÊï£
  if (mutualFunds >= 40 && mutualFunds <= 60) {
    return 'balanced';
  }
  
  // „Éá„Éï„Ç©„É´„Éà: ÊúÄ„ÇÇÊØîÁéá„ÅåÈ´ò„ÅÑË≥áÁî£„Å´Âü∫„Å•„ÅÑ„Å¶Âà§ÂÆö
  const maxValue = Math.max(stocks, realEstate, gold, mutualFunds, crypto, cash);
  
  if (maxValue === crypto || maxValue === stocks) return 'gambler';
  if (maxValue === cash || maxValue === gold) return 'safekeeper';
  if (maxValue === realEstate) return 'landlord';
  if (maxValue === mutualFunds) return 'balanced';
  
  return 'balanced';
}

export function diagnosePortfolio(portfolio: PortfolioData): DiagnosisResult {
  const type = determineDiagnosisType(portfolio);
  const baseResult = diagnosisData[type];
  const stats = calculateStats(portfolio);
  
  return {
    ...baseResult,
    stats
  };
}

export function validatePortfolioTotal(portfolio: PortfolioData): boolean {
  const total = Object.values(portfolio).reduce((sum, val) => sum + val, 0);
  return Math.abs(total - 100) < 0.01;
}
